<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Neword">

    <!-- Title Page-->
    <title>Contenu d'une thèse</title>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css">
    <!-- thymeleaft -->
    <link th:href="@{/css/style.css}" rel="stylesheet">
    <link th:href="@{/css/dashboard.css}" rel="stylesheet">
    <!-- Bootstrap CSS-->
    <script defer th:src="@{https://use.fontawesome.com/releases/v5.0.13/js/solid.js}" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
    <script defer th:src="@{https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js}" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

    <link th:href="@{/css/element.css}" rel="stylesheet">

</head>

<body class="userCrewWrapper">
<!-- sidebar-->
<nav th:replace="~{../templates/fragments/sidebar :: sidebar}">
</nav>
<!-- sidebar-->

<div id="content" style="padding-left: 15px;padding-right: 15px">
    <!--navigation-->
    <div th:replace="~{../templates/fragments/navigationcrewthese :: navigationcrewthese}">
    </div>
    <!-- navigation -->
        <!-- these detail -->
        <div class=" text-center" style="width:100%;  ">
               <div class="content" style="margin-top: 5.5rem;">
                <div class="col-3" style="position:fixed !important;">
                    <div class="card mt-6">
                        <div th:replace="~{../templates/fragments/theseNavigationCrew :: theseNavigationCrew}"></div>
                    </div>
                </div>
                <div class="col-8 offset-4">
            <h3 >Livres</h3>
            <table class="list-group">
                <tr th:each="bibliography : ${bibliographies}" >
                    <div class="card mt-1">
                        <div class="row">
                            <div class="col-md-6">
                                <a class="text-center" data-toggle="modal" data-target="#modal-detail" th:attr="data-target='#modal-detail'+${bibliography.bibliographyId}"  th:text="${bibliography.title}"></a>
                            </div>
                            <div class="col-md-6 row pull-right">
                            <div class="col-md-4">
                                <a  th:href="@{/bibliography/edit/}+${bibliography.bibliographyId}">
                                    <i class="fa fa-pencil"></i>
                                </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            </div>
                            <div class="col-md-4">
                                <a   data-toggle="modal" data-target="#modal-delete" th:attr="data-target='#modal-delete'+${bibliography.bibliographyId}">
                                    <i class="fa fa-trash"></i>
                                </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            </div>
                                <div th:if="${bibliography.disponibility} == true" class="col-md-4">
                                    <span><a   data-toggle="modal" data-target="#modal-desactivation" th:attr="data-target='#modal-desactivation'+${bibliography.bibliographyId}" class="btn btn-success rounded-circle"></a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                </div>
                                <div th:unless="${bibliography.disponibility} == true" class="col-md-4">
                                    <span><a  data-toggle="modal" data-target="#modal-activation" th:attr="data-target='#modal-activation'+${bibliography.bibliographyId}" class="btn btn-danger rounded-circle">
                                    </a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                </div>

                        </div>
                        </div>
                    </div>
                    <div class="modal card modal-warning alert-warning fade in" th:id="modal-detail+${bibliography.bibliographyId}" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header text-center alert-info">
                                    <h5 class="modal-title">Contenu d'un element</h5>
                                </div>
                                <div class="modal-body text-center">
                                    <h3>Detail d'un Livre</h3>
                                </div>
                                <div class="mb-4">
                                    <div class="col-12 col-sm-6 col-lg-12">
                                        <div class="form-group">
                                            <p class="mt-2 mb-2">Auteur:</p>
                                            <textarea class="form-control"  rows="1" style="height: 30px" th:text="${bibliography.auteur}" disabled></textarea>
                                        </div>
                                    </div>
                                    <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                        <div class="form-group">
                                            <p class="mt-2 mb-2">Titre:</p>
                                            <textarea class="form-control"  rows="1" style="height: 30px" th:text="${bibliography.title}" disabled></textarea>
                                        </div>
                                    </div>
                                    <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                        <div class="form-group ">
                                            <p class="mt-2 mb-2">Description:</p>
                                            <textarea class="form-control"  rows="5" style="height: 100px" th:text="${bibliography.description}" disabled></textarea>
                                        </div>
                                    </div>
                                    <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                        <div class="form-group ">
                                            <p class="mt-2 mb-2">Prix:</p>
                                            <textarea class="form-control" rows="1"  style="height: 30px" th:text="${bibliography.price}" disabled></textarea>
                                        </div>
                                    </div>
                                    <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                        <div class="form-group ">
                                            <p class="mt-2 mb-2">Lien de téléchargement:</p>
                                            <a   th:text="${bibliography.link}" th:href="${bibliography.link}"></a>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer text-center">
                                    <button type="button" class="btn btn-warning pull-left" data-dismiss="modal">Fermer</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal card modal-warning alert-warning fade in" th:id="modal-activation+${bibliography.bibliographyId}" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header text-center alert-info">
                                    <h5 class="modal-title">Publication d'un livre</h5>
                                </div>
                                <div class="modal-body text-center">
                                    <h3>Vous etes entrain de vouloir rendre publique ce livre voulez vous continuer?</h3>
                                    <form class=" text-center" style="width:100%;padding:1rem;"  method="post" th:action="@{/bibliography/disponibility/{bibliographyId}(bibliographyId=${bibliography.bibliographyId})}" th:object="${bibliography}">

                                        <div class="mb-4">
                                            <div class="col-12 col-sm-6 col-lg-12">
                                                <!--theseId-->
                                                <input type="hidden" name="theseId" th:value="${bibliography.these.theseId}"  >
                                                <!--theseId-->
                                                <!--input type="hidden" th:field="*{bibliographyId}"-->
                                                <div class="form-group" style="display: none">
                                                    <span class='error' id="assistantError"></span>
                                                    <p class="mt-2 mb-2">Auteur:</p>
                                                    <input type="text" name="auteur" th:value="${bibliography.auteur}" id="assistant" class="form-control" placeholder="Nom de l'auteur" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                                <div class="form-group" style="display: none">
                                                    <span class='error' id="studentError"></span>
                                                    <p class="mt-2 mb-2">Titre:</p>
                                                    <input type="text" name="title" th:value="${bibliography.title}"  class="form-control" placeholder="Titre du livre" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                                <div class="form-group " style=" display: none">
                                                    <span class='error' id="profError"></span>
                                                    <p class="mt-2 mb-2">Description:</p>
                                                    <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                                        <div class="form-group">
                                                            <span class='error' id="linkError"></span>
                                                            <input type="url" name="link" th:value="${bibliography.link}" id="link" class="form-control" placeholder="Lien de telechargement du livre" />
                                                        </div>
                                                    </div>
                                                    <textarea class="form-control" type="text" id="description" rows="5" style="height: 100px;" placeholder="Description " name="description" th:value="${bibliography.description}" ></textarea>
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                                <div class="form-group ">
                                                    <span class='error' id="priceError"></span>
                                                    <p class="mt-2 mb-2">Prix:</p>
                                                    <input class="form-control" id="price"  placeholder="Entrer le prix du livre " name="prix" type="text"></input>
                                                    <input class="form-control" id="disponibility"   name="disponibility" th:value="${bibliography.disponibility}" type="text" style="display: none"></input>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer text-center">
                                            <button type="button" class="btn btn-warning pull-left" data-dismiss="modal">Retour</button>
                                            <button  class="btn btn-success" type="submit"><i class="fa fa-check"></i>&nbsp;Oui</button>
                                        </div>
                                    </form>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="modal card modal-warning alert-warning fade in" th:id="modal-desactivation+${bibliography.bibliographyId}" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header text-center alert-info">
                                    <h5 class="modal-title">Publication d'un livre</h5>
                                </div>
                                <div class="modal-body text-center">
                                    <h3>Vous etes entrain de vouloir desactiver la visibilte de ce livre voulez vous continuer?</h3>
                                    <form class=" text-center" style="width:100%;padding:1rem;"  method="post" th:action="@{/bibliography/disponibility/{bibliographyId}(bibliographyId=${bibliography.bibliographyId})}" th:object="${bibliography}">

                                        <div class="mb-4">
                                            <div class="col-12 col-sm-6 col-lg-12">
                                                <!--theseId-->
                                                <input type="hidden" name="theseId" th:value="${bibliography.these.theseId}"  >
                                                <!--theseId-->
                                                <!--input type="hidden" th:field="*{bibliographyId}"-->
                                                <div class="form-group" style="display: none">
                                                    <span class='error' id="assistantError"></span>
                                                    <p class="mt-2 mb-2">Auteur:</p>
                                                    <input type="text" name="auteur" th:value="${bibliography.auteur}" id="assistant" class="form-control" placeholder="Nom de l'auteur" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                                <div class="form-group" style="display: none">
                                                    <span class='error' id="studentError"></span>
                                                    <p class="mt-2 mb-2">Titre:</p>
                                                    <input type="text" name="title" th:value="${bibliography.title}"  class="form-control" placeholder="Titre du livre" />
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                                <div class="form-group " style=" display: none">
                                                    <span class='error' id="profError"></span>
                                                    <p class="mt-2 mb-2">Description:</p>
                                                    <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                                        <div class="form-group">
                                                            <span class='error' id="linkError"></span>
                                                            <input type="url" name="link" th:value="${bibliography.link}" id="link" class="form-control" placeholder="Lien de telechargement du livre" />
                                                        </div>
                                                    </div>
                                                    <textarea class="form-control" type="text" id="description" rows="5" style="height: 100px;" placeholder="Description " name="description" th:value="${bibliography.description}" ></textarea>
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                                <div class="form-group ">
                                                    <span class='error' id="priceError"></span>
                                                    <input class="form-control" id="price"  placeholder="Entrer le prix du livre " th:field="*{price}" style="display: none"></input>
                                                    <input class="form-control" id="disponibility"   name="disponibility" th:value="${bibliography.disponibility}" type="text" style="display: none"></input>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer text-center">
                                            <button type="button" class="btn btn-warning pull-left" data-dismiss="modal">Retour</button>
                                            <button  class="btn btn-success" type="submit"><i class="fa fa-check"></i>&nbsp;Oui</button>
                                        </div>
                                    </form>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="modal card modal-warning alert-warning fade in" th:id="modal-delete+${bibliography.bibliographyId}" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header text-center alert-info">
                                    <h5 class="modal-title">Suppresion d'un element</h5>
                                </div>
                                <div class="modal-body text-center">
                                    <h3>Voulez vous vraiment supprimer cet element?</h3>
                                </div>
                                <div class="modal-footer text-center">
                                    <button type="button" class="btn btn-warning pull-left" data-dismiss="modal">Retour</button>
                                    <a  class="btn btn-success" th:href="@{/bibliography/delete/}+${bibliography.bibliographyId}"><i class="fa fa-check"></i>&nbsp;Oui</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </tr>
            </table>
                    <a class="btn btn-success rounded-circle mt-3"  data-toggle="modal" data-target="#modal-add" th:attr="data-target='#modal-add'">
                        <i class="fa fa-plus"></i>
                    </a>
                    <span>Ajouter</span>
                    <div class="modal card modal-warning alert-warning fade in" th:id="modal-add" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header text-center alert-info">
                                    <h5 class="modal-title">Ajouter un Livre</h5>
                                </div>
                                <div class="modal-body text-center">
                                    <h5>Veuillez remplir s'il vous plait les champs suivant</h5>
                                </div>
                                <form class=" text-center" style="width:100%;padding:1rem;"  method="post" th:action="@{/bibliography/save}" th:object="${bibliography}">

                                    <div class="mb-4">
                                        <div class="col-12 col-sm-6 col-lg-12">
                                            <!--theseId-->
                                            <input type="hidden" name="theseId" th:value="${session.theseId}"  >
                                            <!--theseId-->
                                            <div class="form-group">
                                                <span class='error' id="assistantError"></span>
                                                <input type="text" th:field="*{auteur}" id="assistant" class="form-control" placeholder="Nom de l'auteur" />
                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                            <div class="form-group">
                                                <span class='error' id="studentError"></span>
                                                <input type="text" th:field="*{title}" id="student" class="form-control" placeholder="Titre du livre" />
                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                            <div class="form-group ">
                                                <span class='error' id="profError"></span>
                                                <textarea class="form-control" id="description" rows="5" style="height: 100px" type="text" th:field="*{description}"  placeholder="Description " ></textarea>
                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                            <div class="form-group">
                                                <span class='error' id="linkError"></span>
                                                <input type="url" th:field="*{link}" id="link" class="form-control" placeholder="Lien de telechargement du livre" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-footer text-center">
                                        <button type="button" class="btn btn-warning pull-left" data-dismiss="modal">Fermer</button>
                                        <button type="submit" class="btn btn-success"><i class="fa fa-check"></i>&nbsp;Enregistrer</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <h3 class=" mt-3">Travaux Etudiants</h3>
            <table class="list-group">
                <tr  th:each="bibliotheque : ${bibliothequess}" >
                    <div class="card mt-1">
                        <div class="row">
                            <div class="col-12 col-sm-6 col-lg-8">
                                <a th:href="${bibliotheque.bibliotheques}" th:text="${bibliotheque.bibliotheques}"></a>
                            </div>
                            <div class="col-12 col-sm-6 col-lg-4 row pull-right">
                                <div>
                                    <a  th:href="@{/bibliotheque/edit/}+${bibliotheque.bibliothequeId}">
                                        <i class="fa fa-pencil"></i>
                                    </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                </div>
                                <div>
                                    <a  data-toggle="modal" data-target="#modal-delete" th:attr="data-target='#modal-delete'+${bibliotheque.bibliothequeId}">
                                        <i class="fa fa-trash"></i>
                                    </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal card modal-warning alert-warning fade in" th:id="modal-delete+${bibliotheque.bibliothequeId}" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header text-center alert-info">
                                    <h5 class="modal-title">Suppresion d'un element</h5>
                                </div>
                                <div class="modal-body text-center">
                                    <h3>Voulez vous vraiment supprimer cet element?</h3>
                                </div>
                                <div class="modal-footer text-center">
                                    <button type="button" class="btn btn-warning pull-left" data-dismiss="modal">Retour</button>
                                    <a  class="btn btn-success" th:href="@{/bibliotheque/delete/}+${bibliotheque.bibliothequeId}"><i class="fa fa-check"></i>&nbsp;Oui</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </tr>
            </table>
                    <a class="btn btn-success rounded-circle mt-3"  data-toggle="modal" data-target="#modal-add" th:attr="data-target='#modal-add1'">
                        <i class="fa fa-plus"></i>
                    </a>
                    <span>Ajouter</span>
                    <div class="modal card modal-warning alert-warning fade in" th:id="modal-add1" >
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header text-center alert-info">
                                    <h5 class="modal-title">Ajouter un travail d'etudiant</h5>
                                </div>
                                <div class="modal-body text-center">
                                    <h5>Veuillez remplir s'il vous plait le champ de donnée</h5>
                                </div>
                                <form class=" text-center" style="width:100%;padding:1rem;"  method="post" th:action="@{/bibliotheque/save}" th:object="${bibliotheque}">

                                    <div class="mb-4">
                                        <div class="col-12 col-sm-6 col-lg-12">
                                            <!--theseId-->
                                            <input type="hidden" name="theseId" th:value="${session.theseId}"  >
                                            <!--theseId-->
                                            <div class="form-group">
                                                <span class='error' id="assistantError"></span>
                                                <input type="url" th:field="*{bibliotheques}" id="assistant" class="form-control" placeholder="Renseigner votre lien ici" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-footer text-center">
                                        <button type="button" class="btn btn-warning pull-left" data-dismiss="modal">Fermer</button>
                                        <button type="submit" class="btn btn-success"><i class="fa fa-check"></i>&nbsp;Enregistrer</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-center">Livres Disponibles</h3>
                        <hr>
                        <table class="list-group">
                            <tr th:each="disponible : ${disponibles}" >
                                <div class="card mt-1">
                                    <div class="row">
                                        <div class="col-12 col-sm-6 col-lg-6">
                                            <a class="text-center" data-toggle="modal" data-target="#modal-detail" th:attr="data-target='#modal-detail'+${disponible.bibliographyId}"  th:text="${disponible.title}"></a>
                                        </div>
                                        <div class="col-12 col-sm-6 col-lg-6 row pull-right">
                                            <span th:text="'$'+${disponible.price}"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal card modal-warning alert-warning fade in" th:id="modal-detail+${disponible.bibliographyId}" >
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header text-center alert-info">
                                                <h5 class="modal-title">Contenu d'un element</h5>
                                            </div>
                                            <div class="modal-body text-center">
                                                <h3>Detail d'un Livre</h3>
                                            </div>
                                            <div class="mb-4">
                                                <div class="col-12 col-sm-6 col-lg-12">
                                                    <div class="form-group">
                                                        <p class="mt-2 mb-2">Auteur:</p>
                                                        <textarea class="form-control"  rows="1" style="height: 30px" th:text="${disponible.auteur}" disabled></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                                    <div class="form-group">
                                                        <p class="mt-2 mb-2">Titre:</p>
                                                        <textarea class="form-control"  rows="1" style="height: 30px" th:text="${disponible.title}" disabled></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                                    <div class="form-group ">
                                                        <p class="mt-2 mb-2">Description:</p>
                                                        <textarea class="form-control"  rows="5" style="height: 100px" th:text="${disponible.description}" disabled></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-sm-6 col-lg-12 mt-3">
                                                    <div class="form-group ">
                                                        <p class="mt-2 mb-2">Lien de téléchargement:</p>
                                                        <a   th:text="${disponible.link}" th:href="${disponible.link}"></a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer text-center">
                                                <button type="button" class="btn btn-warning pull-left" data-dismiss="modal">Fermer</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </tr>
                        </table>
                    </div>
            </div>

            </div>
        <!-- these detail-->
<br>

    </div>
</div>
<!-- scripts-->
<script>
    $(document).ready(function () {

        $('#sidebarCollapse').on('click', function () {
            $('#sidebar').toggleClass('active');
        });
        $('#back').on('click', function(){
            $('#sidebar').toggleClass('active')
        });

    });
</script>
</body>

</html>